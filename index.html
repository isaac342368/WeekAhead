<!DOCTYPE html>
<html>
<head>
  <title>Week Ahead</title>
  <style>
    body {
      font-family: Arial, sans-serif;
    }

    .container {
      max-width: 400px;
      margin: 0 auto;
      padding: 20px;
      background-color: #f2f2f2;
      border-radius: 5px;
    }

    .input-group {
      margin-bottom: 15px;
    }

    .input-group label {
      display: block;
      margin-bottom: 5px;
    }

    .input-group input,
    .input-group select {
      width: 100%;
      padding: 5px;
      border-radius: 3px;
      border: 1px solid #ccc;
    }

    .submit-btn {
      display: block;
      width: 100%;
      padding: 10px;
      background-color: #4CAF50;
      border: none;
      color: #fff;
      text-align: center;
      text-decoration: none;
      cursor: pointer;
      border-radius: 3px;
    }

    .result {
      margin-top: 15px;
      padding: 10px;
      background-color: #e6e6e6;
      border-radius: 3px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Activity Weather Planner</h2>
    <form id="activity-form">
        <div class="input group">
            <label for="activity-city"> City:</label>
            <select id = "activity-city">
                <option value="New York"> New York</option>
                <option value="San Antonio"> San Antonio</option>
                <option value="Chicago"> Chicago</option>
            </select>
        </div>
        <div class ="input group">
            <label for="temp-unit"> Unit: </label>
            <select id="temp-unit">
                <option value="f"> Farenheight</option>
                <option value="c"> Celcius</option>
            </select>
        </div>
      <div class="input-group">
        <label for="activity-name">Activity Name:</label>
        <input type="text" id="activity-name" placeholder="Enter activity name">
      </div>
      <div class="input-group">
        <label for="activity-type">Activity Type:</label>
        <select id="activity-type">
          <option value="indoor">Indoor</option>
          <option value="outdoor">Outdoor</option>
        </select>
      </div>
      <div class="input-group">
        <label for="activity-date">Activity Date:</label>
        <input type="date" id="activity-date">
      </div>
      <div class="input-group">
        <label for="activity-time">Activity Time:</label>
        <input type="time" id="activity-time">
      </div>
      <button class="submit-btn" type="submit">Submit</button>
    </form>
    <div class="result" id="weather-result"></div>
  </div>

  <script>
    const activityForm = document.getElementById('activity-form');
    const weatherResult = document.getElementById('weather-result');

    activityForm.addEventListener('submit', function(event) {
      event.preventDefault();

      const activityName = document.getElementById('activity-name').value;
      const activityType = document.getElementById('activity-type').value;
      const activityDate = document.getElementById('activity-date').value;
      const activityTime = document.getElementById('activity-time').value;

      const currentDate = new Date();
      const selectedDate = new Date(activityDate);
      const isFutureDate = selectedDate > currentDate;

      if (!isFutureDate) {
        weatherResult.innerHTML = 'Please select a future date for your activity.';
        return;
      }

      const weatherConditions = {
        rainy: ['outdoor'],
        sunny: ['indoor', 'outdoor'],
        cloudy: ['outdoor'],
        snowy: ['outdoor'],
        stormy: ['outdoor']
      };

      const weatherCondition = getWeatherCondition(selectedDate);
      const allowedActivityTypes = weatherConditions[weatherCondition];

      if (!allowedActivityTypes || !allowedActivityTypes.includes(activityType)) {
        weatherResult.innerHTML = `The weather on ${activityDate} is expected to be ${weatherCondition}. It is not suitable for your ${activityType} activity.`;
      } else {
        weatherResult.innerHTML = `The weather on ${activityDate} is expected to be ${weatherCondition}. Enjoy your ${activityType} activity "${activityName}"!`;
      }
    });

    function getWeatherCondition(date) {
  const city = document.getElementById("activity-city").value;
  const unit = document.getElementById("temp-unit").value;
      
  let params = new URLSearchParams({
    access_key: 'd171684972b38dd430db2f91c3564710',
    query: city,
    units: unit
  });
  
  const url = `http://api.weatherstack.com/current?${params}`;
  
  return fetch(url)
    .then(res => res.json())
    .then(data => {
      console.log(data);
      return data;
    });
}

  </script>
</body>
</html>